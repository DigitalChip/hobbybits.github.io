---
title: 'Nginx: коротко о главном'
linkTitle: 'Nginx'
description: 'Разбираюсь с прокси-сервером Nginx'
breadcrumbs: false
cascade:
  type: docs
tags:
  - nginx
---

![Nginx proxy server](/img/nginx/nginx-server.jpg)

С годами мои конфигурации Nginx стали напоминать старый дом, где каждое новое требование — это пристройка из подручных материалов. Где-то криво работал кэш, в другом месте таинственным образом отваливались WebSocket'ы, а попытка добавить защитные заголовки превращалась в игру "найди, куда именно вставить эту директиву". Я действовал методом копирования кусков конфигов с форумов, не особо задумываясь о том, что происходит внутри. Мне просто нужно было, чтобы всё «заработало».

Этот подход дал трещину, когда пришлось перенести на другой VPS, обновить и перенастроить Nextcloud, который проработал уже не один год. Я провел несколько бессонных дней и ночей, пытаясь совладать с этим! Это был какой-то кошмар! Работало то одно, то другое, то что то отваливалось. То работает, то нет...

Понимание пришло горькое: чтобы двигаться дальше, нужно не искать очередной готовый кусок конфига и заниматься "копипастой", а наконец-то разобраться, как эта система думает — с какой логикой, как она выбирает блок server, как обрабатывает location и что на самом деле делает try_files.

Собственно, [вот мои записки и шпаргалки](/nginx/nginx1)...
